<link rel="import" href="../iron-ajax/iron-ajax.html">
<link rel="import" href="../mat-elements/mat-button.html">
<link rel="import" href="../paper-datatable-api/paper-datatable-api-column.html">
<link rel="import" href="../paper-datatable-api/paper-datatable-api.html">


<dom-module id="edit-target">
	<template>
		<style>
		</style>
		<div>
			<mat-button class="add-target" label="add target"></mat-button>
		</div>
		<div>
			<paper-datatable-api data='[{"fruit":"apple", "color":"red"}, {"fruit":"banana", "color":"yellow"}, {"fruit":"peach", "color":"pink"}]'>
				<paper-datatable-api-column draggable-column header="Fruit" property="fruit">
					<template>
						<span>{{value}}</span>
					</template>
				</paper-datatable-api-column>
				<paper-datatable-api-column header="Color" property="color">
					<template>
						<span>{{value}}</span>
					</template>
				</paper-datatable-api-column>
			</paper-datatable-api>
		</div>
		<iron-ajax 
		    auto
	  	    with-credentials
		    url="../bower_components/pdns-record-updater/test.js"
		    method="GET"
		    handle-as="json"
		    on-response="_response"
		    on-error="_error">
		</iron-ajax>
	</template>
	<script>
		Polymer({
			is: 'edit-target',
			listeners: {
			    'xp-activate': '_click'
			},
			_refresh: function(e) {
				// irom-ajax.generateRequest()
			},
			_click: function(e) {
				console.log(e);
			},
			_response: function(e) { 
				console.log(e);
				// grid property change
			},
			_error: function(e) {
				console.error(e);
			}
		});
	</script>
</dom-module>
